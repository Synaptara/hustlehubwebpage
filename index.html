<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HustleHubKit</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet" />
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: 'Nunito', sans-serif;
      background: #fff;
      color: #111;
    }
    .container {
      max-width: 600px;
      margin: auto;
    }
    h2 {
      font-size: 32px;
      margin-bottom: 10px;
      text-align: left;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    nav {
      display: flex;
      flex-direction: row;
      gap: 20px;
      padding: 4px 0;
      font-size: 15px;
      justify-content: flex-start;
      align-items: center;
      max-width: 600px;
      margin: 0 auto 12px auto;
    }
    nav a {
      text-decoration: none;
      color: #111;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 14px;
      border: 1px solid #ccc;
      border-radius: 10px;
      transition: background 0.3s ease;
    }
    nav a:hover {
      background: #f0f0f0;
    }
    .description {
      margin-bottom: 20px;
      font-size: 15px;
      color: #444;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      color: #333;
    }
    li svg {
      margin-right: 8px;
      color: green;
      flex-shrink: 0;
    }
    .file-item {
      border: 1px solid #ccc;
      padding: 12px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-radius: 10px;
      font-size: 15px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .file-type {
      display: flex;
      align-items: center;
    }
    .file-details {
      margin-left: 10px;
    }
    .file-name {
      font-weight: 600;
    }
    .file-size {
      font-size: 13px;
      color: #666;
    }
    .lock-icon {
      color: #999;
    }
    .email-input {
      margin-bottom: 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .email-input label {
      font-size: 15px;
      display: block;
      margin-bottom: 6px;
    }
    .email-input input {
      width: 100%;
      padding: 12px;
      font-size: 15px;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-sizing: border-box;
    }
    .complete-btn {
      background: black;
      color: white;
      border: none;
      padding: 14px;
      font-size: 16px;
      border-radius: 12px;
      width: 100%;
      cursor: pointer;
      margin-top: 10px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .popup {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #111;
      color: #fff;
      padding: 14px;
      font-size: 15px;
      text-align: center;
      opacity: 0;
      pointer-events: none;
      z-index: 9999;
      transition: opacity 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .popup.show {
      opacity: 1;
      animation: slideUp 0.4s ease;
      pointer-events: auto;
    }
    @keyframes slideUp {
      from {
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
  </style>
</head>
<body>
  <h2>DIGITAL INCOME BLUEPRINT – EBOOK</h2>

  <nav>
    <a href="about.html">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A4 4 0 017.76 16h8.48a4 4 0 010 8H8a4 4 0 01-2.879-6.804z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
      About Us
    </a>
    <a href="success.html" style="pointer-events:none; opacity:0.6;">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c.828 0 1.5.672 1.5 1.5S12.828 14 12 14s-1.5-.672-1.5-1.5S11.172 11 12 11z"/>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 11V7a5 5 0 00-10 0v4H5v9h14v-9h-2z"/>
      </svg>
      Success (disabled)
    </a>
  </nav>

  <div class="container">

    <div class="description">
      <ul>
        <li><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg> Zero-investment business ideas anyone can start</li>
        <li><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg> Perfect for students aged 15–25</li>
        <li><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg> Step-by-step guidance to launch your hustle</li>
        <li><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg> Real online earning methods using free tools</li>
        <li><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg> Instant download access after payment</li>
      </ul>
    </div>

    <div class="file-item">
      <div class="file-type">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 2h9l5 5v13a2 2 0 01-2 2H6a2 2 0 01-2-2V4a2 2 0 012-2z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 2v6h6" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 13h8m-8 4h5" />
        </svg>
        <div class="file-details">
          <div class="file-name">Digital_Income_Blueprint.pdf</div>
          <div class="file-size">PDF · 446 KB</div>
        </div>
      </div>
      <svg class="lock-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="18" height="18" style="color: #999;">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c.828 0 1.5.672 1.5 1.5S12.828 14 12 14s-1.5-.672-1.5-1.5S11.172 11 12 11z"/>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 11V7a5 5 0 00-10 0v4H5v9h14v-9h-2z"/>
      </svg>
    </div>

    <div class="email-input">
      <label for="userEmail">Enter your Email to receive the eBook:</label>
      <input type="email" id="userEmail" placeholder="example@email.com" required />
    </div>

    <button class="complete-btn" onclick="makePayment()">Pay Now</button>

  </div>

  <div class="popup" id="popup">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20" style="color: yellow;">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M4.93 4.93l14.14 14.14M4.93 19.07L19.07 4.93" />
    </svg>
    Please enter a valid email before proceeding to payment.
  </div>

  <script>
    function makePayment() {
      const emailInput = document.getElementById("userEmail");
      const popup = document.getElementById("popup");
      const email = emailInput.value.trim();

      if (!email || !validateEmail(email)) {
        popup.classList.add("show");
        setTimeout(() => popup.classList.remove("show"), 3000);
        return;
      }

      localStorage.setItem("user_email", email); // Store email for after payment

      const options = {
        key: "YOUR_RAZORPAY_KEY_ID", // Replace with your Razorpay Key ID
        amount: 9900,
        currency: "INR",
        name: "HustleHubKit",
        description: "Digital Income Blueprint eBook",
        handler: function (response) {
          const storedEmail = localStorage.getItem("user_email");

          fetch("https://your-replit-project-name.replit.app/send-pdf", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              email: storedEmail,
              payment_id: response.razorpay_payment_id
            })
          })
          .then(res => res.json())
          .then(data => {
            // After successful payment & PDF delivery, redirect:
            window.location.href = "success.html";
          })
          .catch(err => {
            console.error("PDF delivery failed:", err);
            alert("Payment was successful but email delivery failed.");
          });
        },
        prefill: {
          email: email
        },
        theme: {
          color: "#000000"
        }
      };

      const rzp = new Razorpay(options);
      rzp.open();
    }

    function validateEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
  </script>
</body>
</html>
